<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <title th:text="${titulo}"></title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/formIntegrante.css}" type="text/css">
</head>

<body>
    <header>
        <nav>
            <div class="logo">
                <img th:src="@{/img/uc.png}" alt="">
            </div>

            <div class="menu">
                <ul>
                    <li><a th:href="@{/app}">Home</a></li>
                    <li><a>Mi Agenda</a></li>
                    <li><a>Mi Equipo</a></li>
                    <li><a>Personal</a></li>
                    <li><a th:href="@{/logout}">Logout</a></li>
                </ul>
            </div>


        </nav>

    </header>
    <div class="content">
        <h1 th:text="${h1}"></h1>

        <form th:action="@{/formIntegrante}" th:object="${integrante}" method="post">

            <!-- DATOS NATIVOS DE LA ENTIDAD INTEGRANTE -->
            <label for="nombre">Nombre: </label>
            <input type="text" th:field="*{nombre}" id="nombre">

            <label for="apellido">Apellido </label>
            <input type="text" th:field="*{apellido}" id="apellido">

            <label for="exp">Anos de experiencia: </label>
            <input type="number" th:field="*{experiencia}" id="exp" min="0" max="70">

            <label for="nacimiento">Nacimiento: </label>
            <input type="date" th:field="*{fechaNacimiento}" id="nacimiento">

            <!-- DATOS QUE SIRVEN PARA HACER LAS CONECCIONES CON LAS DEMAS TABLAS-->

            <!-- PUESTO-->
            <label for="puesto">Puesto: </label>

            <select th:if="${integrante.puesto == null}" id="puesto" th:field="*{puesto}">
                <option value=""> Seleccione uno </option>
                <option th:each="p:${listaPuestos}" th:text="${p.nombre}" th:value="${p.id}"></option>
            </select>
            <select th:if="${integrante.puesto != null}" id="puesto" th:field="*{puesto}">
                <option th:text="${integrante.puesto.nombre}" th:value="${integrante.puesto.id}" selected> Seleccione uno </option>
                <option th:each="p:${listaPuestos}" th:text="${p.nombre}" th:value="${p.id}"></option>
            </select>

            <!--EQUIPOS-->
            <label for="equipo">Equipo: </label>

            <select th:if="${integrante.equipo == null}" id="equipo" th:field="*{equipo}">
              <option value=""> Seleccione uno </option>
              <option th:each="e:${listaEquipos}" th:text="${e.nombre}" th:value="${e.id}"></option>
          </select>
            <select th:if="${integrante.equipo != null}" id="equipo" th:field="*{equipo}">
                <option th:text="${integrante.equipo.nombre}" th:value="${integrante.equipo.id}" selected> Seleccione uno </option>
                <option th:each="e:${listaEquipos}" th:text="${e.nombre}" th:value="${e.id}"></option>
            </select>


            <!-- LENGUAJES-->
            <div th:if="${integrante.lenguajes == null}">

                <label>Lenguajes: </label>
                <div class="content-lenguajes" th:each=" lenguaje : ${listaLenguajes}">
                    <div class="lenguaje">
                        <input type="checkbox" th:value="${lenguaje.id}" th:field="*{lenguajes}">
                        <label th:text="${lenguaje.nombre}"></label>
                    </div>
                </div>
            </div>


            <!-- USUARIO -->


            <div th:if="${integrante.usuario  != null}">
                <input type="hidden" name="email" id="email" th:value="${integrante.usuario.email}">
                <input type="hidden" name="password" id="password" th:value="${integrante.usuario.password}">
            </div>

            <div th:if="${integrante.usuario  == null}">
                <label for="email">Email: </label>
                <input type="text" name="email" id="email">
                <label for="password">Contrasena: </label>
                <input type="text" name="password" id="password">
            </div>


            <!-- EQUIPO -->
            <input type="hidden" name="id" id="id" th:if="${integrante.usuario  != null}" th:field="*{id}" th:value="${integrante.id}"> <br><br>

            <input class="submit" type="submit">
        </form>



    </div>
</body>

</html>